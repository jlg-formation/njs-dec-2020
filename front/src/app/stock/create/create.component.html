<main>
  <h1>Ajout d'un article</h1>
  <form [formGroup]="f">
    <label>
      <div>Nom</div>
      <input type="text" formControlName="name" />
      <div class="error">
        <span *ngIf="f.controls.name.invalid && f.controls.name.touched">
          <span *ngIf="f.controls.name.errors.required">
            Le nom est obligatoire.
          </span>
          <span *ngIf="f.controls.name.errors.minlength">
            Le nom doit comporter au moins
            {{ f.controls.name.errors.minlength.requiredLength }} caracteres.
          </span>
        </span>
      </div>
    </label>
    <label>
      <div>Prix</div>
      <input type="number" step="0.01" min="0" formControlName="price" />
      <div class="error">
        <span *ngIf="f.controls.price.invalid && f.controls.price.touched">
          <span *ngIf="f.controls.price.errors.required">
            Le prix est obligatoire.
          </span>
        </span>
      </div>
    </label>
    <label>
      <div>Quantité</div>
      <input type="number" min="0" formControlName="qty" />
      <div class="error">
        <span *ngIf="f.controls.qty.invalid && f.controls.qty.touched">
          <span *ngIf="f.controls.qty.errors.required">
            La quantité est obligatoire.
          </span>
        </span>
      </div>
    </label>
    <div class="buttons">
      <button type="button" routerLink="..">Annuler</button>
      <button class="primary" [disabled]="f.invalid">Ajouter</button>
    </div>
  </form>
</main>
